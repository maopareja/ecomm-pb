#!/bin/bash
# Pasos para actualizar el repositorio despu√©s de agregar .gitignore

echo "üì¶ PASO 1: Hacer commit de los cambios actuales"
echo "================================================"
echo ""
echo "Ejecutar:"
echo "  git commit -m 'chore: add .gitignore and remove tracked DB/cache files'"
echo ""
read -p "Presiona ENTER despu√©s de hacer el commit..."

echo ""
echo "üîç PASO 2: Verificar el estado"
echo "================================================"
git status
echo ""
read -p "Presiona ENTER para continuar..."

echo ""
echo "‚¨ÜÔ∏è  PASO 3: Push al repositorio remoto"
echo "================================================"
echo ""
echo "Ejecutar:"
echo "  git push origin main"
echo ""
echo "‚ö†Ô∏è  NOTA: Si ya subiste archivos grandes anteriormente,"
echo "   es posible que el push falle por tama√±o de archivos."
echo ""
read -p "Presiona ENTER despu√©s de intentar el push..."

echo ""
echo "üßπ PASO 4 (OPCIONAL): Limpiar historial de archivos grandes"
echo "=============================================================="
echo ""
echo "Si el push falla por archivos grandes en el historial:"
echo ""
echo "Opci√≥n A - BFG Repo-Cleaner (recomendado):"
echo "  1. Instalar: brew install bfg"
echo "  2. Ejecutar: bfg --strip-blobs-bigger-than 50M"
echo "  3. Limpiar: git reflog expire --expire=now --all && git gc --prune=now --aggressive"
echo "  4. Push forzado: git push --force"
echo ""
echo "Opci√≥n B - git filter-repo:"
echo "  1. Instalar: brew install git-filter-repo"
echo "  2. Ejecutar: git filter-repo --strip-blobs-bigger-than 50M"
echo "  3. Push forzado: git push --force"
echo ""
echo "‚ö†Ô∏è  ADVERTENCIA: Estas operaciones reescriben el historial de Git."
echo "   Solo √∫salas si est√°s seguro y has notificado al equipo."
echo ""
echo "‚úÖ Script completado!"
